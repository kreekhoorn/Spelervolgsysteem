DROP DATABASE spelervolgsysteem;

CREATE DATABASE spelervolgsysteem;
CREATE TABLE Team (Id int(10) NOT NULL AUTO_INCREMENT, Name varchar(30), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Player_Player (PlayerId int(10) NOT NULL, PlayerId2 int(10) NOT NULL, PRIMARY KEY (PlayerId, PlayerId2)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE `User` (Id int(10) NOT NULL AUTO_INCREMENT, KNVBnumber varchar(30), Lastname int(50), Firstname int(50), Startdate date NOT NULL, TeamId int(10), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Player (Id int(10) NOT NULL AUTO_INCREMENT, KNVBnumber varchar(30), Lastname varchar(50) NOT NULL, Firstname varchar(50) NOT NULL, Phone varchar(50), Email varchar(100), Startdate date NOT NULL, Discription varchar(255), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Player_Team (PlayerId int(10) NOT NULL, TeamId int(10) NOT NULL, PRIMARY KEY (PlayerId, TeamId)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE PlayCategory (Id int(10) NOT NULL AUTO_INCREMENT, Category varchar(255) NOT NULL, Discription varchar(255), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Player_PlayCategory (PlayerId int(10) NOT NULL, PlayCategoryId int(10) NOT NULL, Discription varchar(255), timestamp timestamp NOT NULL, PRIMARY KEY (PlayerId, PlayCategoryId)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE TeamCategory (Id int(10) NOT NULL AUTO_INCREMENT, Category varchar(255) NOT NULL, Discription varchar(255), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Team_TeamCategory (TeamId int(10) NOT NULL, TeamCategoryId int(10) NOT NULL, Discription varchar(255), Timestamp timestamp NOT NULL, PRIMARY KEY (TeamId, TeamCategoryId)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Permission (Id int(10) NOT NULL AUTO_INCREMENT, Permission_name varchar(50), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Role (Id int(10) NOT NULL AUTO_INCREMENT, Role_name varchar(50), PRIMARY KEY (Id)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE User_Role (UserId int(10) NOT NULL, RoleId int(10) NOT NULL, PRIMARY KEY (UserId, RoleId)) ENGINE=InnoDB CHARACTER SET UTF8;
CREATE TABLE Role_Permission (RoleId int(10) NOT NULL, PermissionId int(10) NOT NULL, PRIMARY KEY (RoleId, PermissionId)) ENGINE=InnoDB CHARACTER SET UTF8;
ALTER TABLE Player_Player ADD CONSTRAINT FKPlayer_Pla66436 FOREIGN KEY (PlayerId) REFERENCES Player (Id);
ALTER TABLE Player_Player ADD CONSTRAINT FKPlayer_Pla888168 FOREIGN KEY (PlayerId2) REFERENCES Player (Id);
ALTER TABLE Player_Team ADD CONSTRAINT FKPlayer_Tea896953 FOREIGN KEY (PlayerId) REFERENCES Player (Id);
ALTER TABLE Player_Team ADD CONSTRAINT FKPlayer_Tea797403 FOREIGN KEY (TeamId) REFERENCES Team (Id);
ALTER TABLE `User` ADD CONSTRAINT FKUser596961 FOREIGN KEY (TeamId) REFERENCES Team (Id);
ALTER TABLE Player_PlayCategory ADD CONSTRAINT FKPlayer_Pla634722 FOREIGN KEY (PlayerId) REFERENCES Player (Id);
ALTER TABLE Player_PlayCategory ADD CONSTRAINT FKPlayer_Pla47531 FOREIGN KEY (PlayCategoryId) REFERENCES PlayCategory (Id);
ALTER TABLE Team_TeamCategory ADD CONSTRAINT FKTeam_TeamC154882 FOREIGN KEY (TeamId) REFERENCES Team (Id);
ALTER TABLE Team_TeamCategory ADD CONSTRAINT FKTeam_TeamC582041 FOREIGN KEY (TeamCategoryId) REFERENCES TeamCategory (Id);
ALTER TABLE User_Role ADD CONSTRAINT FKUser_Role973382 FOREIGN KEY (UserId) REFERENCES `User` (Id);
ALTER TABLE User_Role ADD CONSTRAINT FKUser_Role494787 FOREIGN KEY (RoleId) REFERENCES Role (Id);
ALTER TABLE Role_Permission ADD CONSTRAINT FKRole_Permi373200 FOREIGN KEY (RoleId) REFERENCES Role (Id);
ALTER TABLE Role_Permission ADD CONSTRAINT FKRole_Permi82877 FOREIGN KEY (PermissionId) REFERENCES Permission (Id);
